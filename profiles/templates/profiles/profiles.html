{% load static %}
{% include "sidebar.html" %} {% block content %}
<div class="p-4 sm:ml-64">

    <p class="text-3xl m-2 font-semibold tracking-tight leading-none text-black">
      Profiles
    </p>


    <!-- personal information section -->
    <div>
      <div class="flex items-center justify-center">
        <div class="py-2">
          <p class="font-semibold text-xl">Personal Information</p>
        </div>
      </div>

      <!-- error messages display -->
{#      {% for m in messages %}#}
{#      <p>{{ m }}</p>#}
{#      {% endfor %}#}

      <div class="block h-58 mb-4 rounded-xl bg-profile_gray max-w-screen-xl">
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          First Name: {{ user.first_name }}
        </p>
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Last Name: {{ user.last_name }}
        </p>
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Email: {{ user.email }}
        </p>
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Username: {{ user.username }}
        </p>
        <div class="flex items-center justify-between">
          <div class="flex items-start"></div>
          <button
          data-dialog-target="sign-in-modal"
          class="rounded-md bg-slate-800 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2" type="button">
          Open Modal Form
          </button>
        </div>
      </div>
      {# {% endfor %}#}
    </div>

    <!-- contact information section -->
    <div>
      <div class="flex items-center justify-center">
        <div class="py-2">
          <p class="font-semibold text-xl">Contact Information</p>
        </div>
      </div>
      <div class="block h-20 mb-4 rounded-xl bg-profile_gray max-w-screen-xl">
        <div class="flex items-center justify-between">
          <div class="flex items-start"></div>
          <a
            href="{% url 'home:password_reset' %}"
            class="mr-3 hover:bg-blue-600"
            ><?xml version="1.0" ?>
            <svg
              class="feather feather-edit"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
              />
              <path
                d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
              />
            </svg>
          </a>
        </div>
        {% if user_profile %}
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Contact: {{ user_profile.phone_number }}
        </p>
        {% else %}
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Contact: No contact information available
        </p>
        {% endif %}
      </div>
    </div>

    <div>
      <div class="flex items-center justify-center">
        <div class="py-2">
          <p class="font-semibold text-xl">Payment Information</p>
        </div>
      </div>
      <div class="block h-20 mb-4 rounded-xl bg-profile_gray max-w-screen-xl">
        <div class="flex items-center justify-between">
          <div class="flex items-start"></div>
          <a
            href="{% url 'home:password_reset' %}"
            class="mr-3 hover:bg-blue-600"
            ><?xml version="1.0" ?>
            <svg
              class="feather feather-edit"
              fill="none"
              height="24"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              viewBox="0 0 24 24"
              width="24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
              />
              <path
                d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
              />
            </svg>
          </a>
        </div>
        {% if user_profile %}
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Mpesa Number: {{ user_profile.mpesa_number }}
        </p>
        {% else %}
        <p class="text-xl ml-4 py-2 text-black font-semibold font-serif">
          Mpesa Number: No payment information available
        </p>
        {% endif %}
      </div>
    </div>
</div>

    <div
  data-dialog-backdrop="sign-in-modal"
  data-dialog-backdrop-close="true"
  class="pointer-events-none fixed inset-0 z-[999] grid h-screen w-screen place-items-center bg-black bg-opacity-60 opacity-0 backdrop-blur-sm transition-opacity duration-300"
    >
  <div
    data-dialog="sign-in-modal"
    class="relative mx-auto w-full max-w-[24rem] rounded-lg overflow-hidden shadow-sm"
  >
    <div class="relative flex flex-col bg-white">
      <div class="relative m-2.5 items-center flex justify-center text-white h-24 rounded-md bg-slate-800">
        <h3 class="text-2xl">
          Personal Information
        </h3>
      </div>
        <form>
      <div class="flex flex-col gap-4 p-6">

              {% csrf_token %}
        <div class="w-full max-w-sm min-w-[200px]">
            <label class="block mb-2 text-sm text-slate-600">
              Firstname
            </label>

            <div class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow">
                {{ form_profile.first_name }}
            </div>
        </div>

        <div class="w-full max-w-sm min-w-[200px]">
          <label class="block mb-2 text-sm text-slate-600">
            Lastname
          </label>
            <div class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow">
                {{ form_profile.last_name }}
            </div>

        </div>
          <div class="w-full max-w-sm min-w-[200px]">
          <label class="block mb-2 text-sm text-slate-600">
            Username
          </label>
              <div class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow">
                {{ form_profile.username}}
            </div>
                  </div>

      </div>
      <div class="p-6 pt-0">
        <button name="formProfile_submit" class="w-full rounded-md bg-slate-800 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none" type="button">
          Update
        </button>
{#        <p class="flex justify-center mt-6 text-sm text-slate-600">#}
{#          Don&apos;t have an account?#}
{#          <a href="#signup" class="ml-1 text-sm font-semibold text-slate-700 underline">#}
{#            Sign up#}
{#          </a>#}
{#        </p>#}
      </div>
        </form>
    </div>
  </div>
</div>

    <script src="{% static "profile.js" %}">
    </script>
{% endblock %}
